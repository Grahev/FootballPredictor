{% extends "base.html" %}

{% block content %}





<h1 class="text-center mt-5 mb-3">{{predictions.0.user.username}}'s predictions</h1>

    
    <div class="accordion" id="accordionPanelsStayOpenExample">
        {% for prediction in predictions %}

        {% if prediction.is_past_due %}
        
        <div class="accordion-item ">
        
            <h2 class="accordion-header" id="headingTwo">
                <div class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo{{forloop.counter}}" aria-expanded="false" aria-controls="collapseTwo{{forloop.counter}}">
                    <p class="mb-0">{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p><small class="mb-0 ms-2">Points: {{prediction.points}}</small>
                </div>
            </h2>
        
            <div id="collapseTwo{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <div class="card text-center">
                        <div class="card-header">Prediction</div>
                        <div class="card-body">
                        {% if prediction.checked %}
                            <h5 class="card-title">{{prediction.match.hTeam}} {{prediction.homeTeamScore}} : {{prediction.awayTeamScore}} {{prediction.match.aTeam}}</h5>
                            <p class="card-text"> <small>First goal scorer:</small> <strong>{{prediction.goalScorer.name}}</strong> </p>
                            <p>Full Time</p>
                            <p>{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p>
                            <p>First goal scorer: {{prediction.match.goalScorers.first.name}}</p>
                        </div>
                        <div class="card-footer text-muted">
                          Points: {{prediction.points}}
                        </div>
                        {% else %}
                            <h5 class="card-title">{{prediction.match.hTeam}} {{prediction.homeTeamScore}} : {{prediction.awayTeamScore}} {{prediction.match.aTeam}}</h5>
                            <p class="card-text"> <small>First goal scorer:</small> <strong>{{prediction.goalScorer.0.name}}</strong> </p>
                            <p>pending</p>
                        </div>
                        <div class="card-footer text-muted">
                            Points: {{prediction.points}}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    
        {% else %}
        {% endif %}
        {% endfor %}
    </div>








{% endblock content %}