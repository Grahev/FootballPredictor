{% extends "base.html" %}
{% load static %}

{% block content %}
    <h1 class="text-center mt-5 mb-3">Predictions</h1>

    
    <div class="accordion" id="accordionPanelsStayOpenExample">
      {% for prediction in predictions %}

      {% if prediction.is_past_due %}
      
          <div class="accordion-item ">
      <h2 class="accordion-header" id="headingTwo">
        <div class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo{{forloop.counter}}" aria-expanded="false" aria-controls="collapseTwo{{forloop.counter}}">
          <p class="mb-0">{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p><small class="mb-0 ms-2">Points: {{prediction.points}}</small>
        </div>
      </h2>
      <div id="collapseTwo{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
        <div class="accordion-body">
         
          <div class="card text-center">
    <div class="card-header">
      Prediction
    </div>
    <div class="card-body">
      {% if prediction.checked %}
      <h5 class="card-title">{{prediction.match.hTeam}} {{prediction.homeTeamScore}} : {{prediction.awayTeamScore}} {{prediction.match.aTeam}}</h5>
      <p class="card-text"> <small>First goal scorer:</small> <strong>{{prediction.goalScorer.name}}</strong> </p>
    
        <p>Full Time</p>
        <p>{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p>
        <p>First goal scorer: {{prediction.match.first_goal}}</p>
      {% else %}
      <h5 class="card-title">{{prediction.match.hTeam}} {{prediction.homeTeamScore}} : {{prediction.awayTeamScore}} {{prediction.match.aTeam}}</h5>
      <p class="card-text"> <small>First goal scorer:</small> <strong>{{prediction.goalScorer.name}}</strong> </p>
      <p>pending</p>
      {% endif %}
      
         
      {% else %}
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
          <div class="accordion-button collapsed bg-primary text-light" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo{{forloop.counter}}" aria-expanded="false" aria-controls="collapseTwo{{forloop.counter}}">
            <p class="mb-0">{{prediction.match.hTeam}} : {{prediction.match.aTeam}}</p>
          </div>
        </h2>
        <div id="collapseTwo{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
          <div class="accordion-body">
           
            <div class="card text-center">
      <div class="card-header">
        Prediction
      </div>
      <div class="card-body">
        <h5 class="card-title">{{prediction.match.hTeam}} {{prediction.homeTeamScore}} : {{prediction.awayTeamScore}} {{prediction.match.aTeam}}</h5>
        <p class="card-text"> <small>First goal scorer:</small> <strong>{{prediction.goalScorer.name}}</strong> </p>
      
          {% comment %} <p>Full Time</p>
          <p>{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p>
          <p>First goal scorer: {{prediction.match.goalScorers.first.name}}</p> {% endcomment %}
      <a href="/predictions/{{prediction.pk}}/edit" class="btn btn-primary">Edit</a>
      <a href="/predictions/{{prediction.pk}}/delete" class="btn btn-danger">Delete</a>
      {% endif %}
      
    </div>
    <div class="card-footer text-muted">
      Points: {{prediction.points}}
    </div>
  </div>
  
        </div>
      </div>
    </div>
  
      {% endfor %}
      </div>


























    
    {% comment %} <div class="accordion" id="accordionPanelsStayOpenExample">
    {% for prediction in predictions %}
    
        <div class="accordion-item">
    <h2 class="accordion-header" id="headingTwo">
      <div class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo{{forloop.counter}}" aria-expanded="false" aria-controls="collapseTwo{{forloop.counter}}">
        <p class="mb-0">{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p>
      </div>
    </h2>
    <div id="collapseTwo{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
      <div class="accordion-body">
       
        <div class="card text-center">
  <div class="card-header">
    Prediction
  </div>
  <div class="card-body">
    <h5 class="card-title">{{prediction.match.hTeam}} {{prediction.homeTeamScore}} : {{prediction.awayTeamScore}} {{prediction.match.aTeam}}</h5>
    <p class="card-text"> <small>First goal scorer:</small> <strong>{{prediction.goalScorer.name}}</strong> </p>
    {% if prediction.is_past_due %}
      <p>Full Time</p>
      <p>{{prediction.match.hTeam}} {{prediction.match.hTeamScore}} : {{prediction.match.aTeamScore}} {{prediction.match.aTeam}}</p>
      <p>First goal scorer: {{prediction.match.goalScorers.first.name}}</p>
       
    {% else %}
    <a href="/predictions/{{prediction.pk}}/edit" class="btn btn-primary">Edit</a>
    <a href="/predictions/{{prediction.pk}}/delete" class="btn btn-danger">Delete</a>
    {% endif %}
    
  </div>
  <div class="card-footer text-muted">
    Points: {{prediction.points}}
  </div>
</div>

      </div>
    </div>
  </div>

    {% endfor %}
    </div> {% endcomment %}



    {% comment %} {% for prediction in predictions %}
      {% if not prediction.is_past_due %}
        <div class="prediction border border-1 mx-auto">
          <a href="#" class="link-dark">
          <div class="row">
            <div class="col-3 text-center"><img class="m-2" src="{{prediction.match.hTeam.logo}}" style="height:30px" alt=""></div>
            <div class="col-9 my-auto"><h6 class="ms-4 my-auto">{{prediction.match.hTeam}}</h6></div>
          </div>
          <div class="row">
            <div class="col-3 text-center"><img class="m-2" src="{{prediction.match.aTeam.logo}}" style="height:30px" alt=""></div>
            <div class="col-9 my-auto"><p class="ms-4 my-auto">{{prediction.match.aTeam}}</p></div>
          </div>
        </a>
        </div>
      {% else %}

      {% endif %}
    
    {% endfor %} {% endcomment %}
   
{% endblock content %}